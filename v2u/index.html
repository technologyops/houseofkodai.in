<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>houseofkodai.in:Vanavil to Unicode Translator</title>
</head>
<script src="cell.js"></script>
<script>
var v2u = function() {
var lut = [
  ["0bb30bcb","006e00730068"],
  ["0bb30bca","006200730068"],
  ["0bb30bbe","00730068"],
  ["0bb30bbf","00eb"],
  ["0bb30bc0","00c7"],
  ["0ba30bcb","006e007a0068"],
  ["0bb20bcb","006e00790068"],
  ["0bb10bcb","006e00770068"],
  ["0bb00bcb","006e00750068"],
  ["0bb50bcb","006e00740068"],
  ["0b9a0bcb","006e00720068"],
  ["0b9e0bcb","006e00500068"],
  ["0bb70bcb","006e00f50068"],
  ["0b9f0bcb","006e006c0068"],
  ["0bae0bcb","006e006b0068"],
  ["0ba40bcb","006e006a0068"],
  ["0bb40bcb","006e00480068"],
  ["0baa0bcb","006e00670068"],
  ["0b950bcb","006e00660068"],
  ["0ba80bcb","006e00650068"],
  ["0ba90bcb","006e00640068"],
  ["0b950bcd0bb70bcb","006e00420068"],
  ["0baf0bcb","006e00610068"],
  ["0bb90bcb","006e00410068"],
  ["0b990bcb","006e20210068"],
  ["0b990bcb","006e00870068"],
  ["0bb80bcb","006e005b0068"],
  ["0b9c0bcb","006e00230068"],
  ["0ba30bcc","0062007a0073"],
  ["0ba30bca","0062007a0068"],
  ["0bb20bcc","006200790073"],
  ["0bb20bca","006200790068"],
  ["0bb10bcc","006200770073"],
  ["0bb10bca","006200770068"],
  ["0bb00bcc","006200750073"],
  ["0bb00bca","006200750068"],
  ["0bb50bcc","006200740073"],
  ["0bb50bca","006200740068"],
  ["0bb30bcc","006200730073"],
  ["0b9a0bcc","006200720073"],
  ["0b9a0bca","006200720068"],
  ["0b9e0bcc","006200500073"],
  ["0b9e0bca","006200500068"],
  ["0bb70bcc","006200f50073"],
  ["0bb70bca","006200f50068"],
  ["0b9f0bcc","0062006c0073"],
  ["0b9f0bca","0062006c0068"],
  ["0bae0bcc","0062006b0073"],
  ["0bae0bca","0062006b0068"],
  ["0ba40bcc","0062006a0073"],
  ["0ba40bca","0062006a0068"],
  ["0bb40bcc","006200480073"],
  ["0bb40bca","006200480068"],
  ["0baa0bcc","006200670073"],
  ["0baa0bca","006200670068"],
  ["0b950bcc","006200660073"],
  ["0b950bca","006200660068"],
  ["0ba80bcc","006200650073"],
  ["0ba80bca","006200650068"],
  ["0ba90bcc","006200640073"],
  ["0ba90bca","006200640068"],
  ["0b950bcd0bb70bcc","006200420073"],
  ["0b950bcd0bb70bca","006200420068"],
  ["0baf0bcc","006200610073"],
  ["0bb90bcc","006200410073"],
  ["0baf0bca","006200610068"],
  ["0bb90bca","006200410068"],
  ["0b990bcc","006220210073"],
  ["0b990bca","006220210068"],
  ["0b990bcc","006200870073"],
  ["0b990bca","006200870068"],
  ["0bb80bcc","0062005b0073"],
  ["0bb80bca","0062005b0068"],
  ["0b9c0bcc","006200230073"],
  ["0b9c0bca","006200230068"],
  ["0ba30bbe","007a0068"],
  ["0bb20bbe","00790068"],
  ["0b94","00780073"],
  ["0bb10bbe","00770068"],
  ["0bb00bbe","00750068"],
  ["0bb50bbe","00740068"],
  ["0b9a0bbe","00720068"],
  ["0b9e0bbe","00500068"],
  ["0bb70bbe","00f50068"],
  ["0bb70bc2","00f5005d"],
  ["0bb70bc1","00f50026"],
  ["0ba30bc7","006e007a"],
  ["0bb20bc7","006e0079"],
  ["0bb10bc7","006e0077"],
  ["0bb00bc7","006e0075"],
  ["0bb50bc7","006e0074"],
  ["0bb30bc7","006e0073"],
  ["0b9a0bc7","006e0072"],
  ["0b9e0bc7","006e0050"],
  ["0bb70bc7","006e00f5"],
  ["0b9f0bc7","006e006c"],
  ["0bae0bc7","006e006b"],
  ["0ba40bc7","006e006a"],
  ["0bb40bc7","006e0048"],
  ["0baa0bc7","006e0067"],
  ["0b950bc7","006e0066"],
  ["0ba80bc7","006e0065"],
  ["0ba90bc7","006e0064"],
  ["0b950bcd0bb70bc7","006e0042"],
  ["0baf0bc7","006e0061"],
  ["0bb90bc7","006e0041"],
  ["0b990bc7","006e2021"],
  ["0b990bc7","006e0087"],
  ["0bb80bc7","006e005b"],
  ["0b9c0bc7","006e0023"],
  ["0b9f0bbe","006c0068"],
  ["0bae0bbe","006b0068"],
  ["0ba40bbe","006a0068"],
  ["0ba30bc8","0069007a"],
  ["0bb20bc8","00690079"],
  ["0bb10bc8","00690077"],
  ["0bb00bc8","00690075"],
  ["0bb50bc8","00690074"],
  ["0bb30bc8","00690073"],
  ["0b9a0bc8","00690072"],
  ["0b9e0bc8","00690050"],
  ["0bb70bc8","006900f5"],
  ["0b9f0bc8","0069006c"],
  ["0bae0bc8","0069006b"],
  ["0ba40bc8","0069006a"],
  ["0bb40bc8","00690048"],
  ["0baa0bc8","00690067"],
  ["0b950bc8","00690066"],
  ["0ba80bc8","00690065"],
  ["0ba90bc8","00690064"],
  ["0b950bcd0bb70bc8","00690042"],
  ["0baf0bc8","00690061"],
  ["0bb90bc8","00690041"],
  ["0b990bc8","00692021"],
  ["0b990bc8","00690087"],
  ["0bb80bc8","0069005b"],
  ["0b9c0bc8","00690023"],
  ["0bb40bbe","00480068"],
  ["0baa0bbe","00670068"],
  ["0b950bbe","00660068"],
  ["0ba80bbe","00650068"],
  ["0ba90bbe","00640068"],
  ["0ba30bc6","0062007a"],
  ["0bb20bc6","00620079"],
  ["0bb10bc6","00620077"],
  ["0bb00bc6","00620075"],
  ["0bb50bc6","00620074"],
  ["0bb30bc6","00620073"],
  ["0b9a0bc6","00620072"],
  ["0b9e0bc6","00620050"],
  ["0bb70bc6","006200f5"],
  ["0b9f0bc6","0062006c"],
  ["0bae0bc6","0062006b"],
  ["0ba40bc6","0062006a"],
  ["0b950bcd0bb70bbe","00420068"],
  ["0bb40bc6","00620048"],
  ["0baa0bc6","00620067"],
  ["0b950bc6","00620066"],
  ["0ba80bc6","00620065"],
  ["0ba90bc6","00620064"],
  ["0b950bcd0bb70bc6","00620042"],
  ["0baf0bc6","00620061"],
  ["0bb90bc6","00620041"],
  ["0b990bc6","00622021"],
  ["0b990bc6","00620087"],
  ["0b950bcd0bb70bc2","0042005d"],
  ["0bb80bc6","0062005b"],
  ["0b950bcd0bb70bc1","00420026"],
  ["0b9c0bc6","00620023"],
  ["0baf0bbe","00610068"],
  ["0bb90bbe","00410068"],
  ["0bb90bc2","0041005d"],
  ["0bb90bc1","00410026"],
  ["0b990bbe","20210068"],
  ["0b990bbe","00870068"],
  ["0bb80bbe","005b0068"],
  ["0bb80bc2","005b005d"],
  ["0bb80bc1","005b0026"],
  ["0b9c0bbe","00230068"],
  ["0b9c0bc2","0023005d"],
  ["0b9c0bc1","00230026"],
  ["0bb70bcd","005a"],
  ["0ba3","007a"],
  ["0bb30bcd","0178"],
  ["0bb30bcd","009f"],
  ["0bb20bc2","00ff"],
  ["0bb20bc1","0059"],
  ["0bb2","0079"],
  ["0b92","0078"],
  ["0b93","0058"],
  ["0bb10bc1","0057"],
  ["0bb1","0077"],
  ["0b8e","0076"],
  ["0b8f","0056"],
  ["0ba90bc0","00dc"],
  ["0ba80bc2","00fc"],
  ["0bae0bc0","00db"],
  ["0ba30bc2","00fb"],
  ["0ba30bc0","00d9"],
  ["0bb10bc2","00f9"],
  ["0ba80bc0","00da"],
  ["0b9e0bc2","00fa"],
  ["0bb00bc1","0055"],
  ["0bb0","0075"],
  ["0b950bc2","0054"],
  ["0bb5","0074"],
  ["0bb00bc0","00df"],
  ["0b9e0bcd","0160"],
  ["0bb20bcd","0161"],
  ["0b9e0bcd","008a"],
  ["0bb20bcd","009a"],
  ["0bb30bc1","0053"],
  ["0bb3","0073"],
  ["0b9a0bc1","0052"],
  ["0b9a","0072"],
  ["0ba30bc1","0051"],
  ["0bb30bc2","0071"],
  ["0baf0bc0","0070"],
  ["0b9e","0050"],
  ["0baf0bcd","0152"],
  ["0bb40bcd","0153"],
  ["0baf0bcd","008c"],
  ["0bb40bcd","009c"],
  ["0b950bcd0bb70bbf","00f8"],
  ["0b9e0bc0","00d8"],
  ["0baa0bc0","00d5"],
  ["0bb7","00f5"],
  ["0bb10bc0","00d6"],
  ["0ba40bc2","00f6"],
  ["0ba40bc0","00d4"],
  ["0baf0bc2","00f4"],
  ["0baa0bc1","00f2"],
  ["0b9a0bc0","00d3"],
  ["0baa0bc2","00f3"],
  ["0b950bcd0bb70bcd","00ba"],
  ["0b9f0bbf","006f"],
  ["0b9f0bc0","004f"],
  ["0b950bc0","00d1"],
  ["0bb50bc2","00f1"],
  ["0b9a0bc2","004e"],
  ["0b85","006d"],
  ["0b86","004d"],
  ["0b9f0bc1","004c"],
  ["0b9f","006c"],
  ["0bae0bc1","004b"],
  ["0bae","006b"],
  ["0ba40bc1","004a"],
  ["0ba4","006a"],
  ["0bb90bbf","00ef"],
  ["0b87","00cf"],
  ["0bb70bbf","00ee"],
  ["0bb50bc1","00ce"],
  ["0b950bcd0bb70bc0","00cc"],
  ["0bb80bbf","00ec"],
  ["0b9c0bbf","00ed"],
  ["0baf0bc1","00cd"],
  ["0b90","0049"],
  ["0bb4","0048"],
  ["0bb40bc1","0047"],
  ["0baa","0067"],
  ["0b950bc1","0046"],
  ["0b95","0066"],
  ["0bb90bc0","00cb"],
  ["0bb40bbf","00ea"],
  ["0bb70bc0","00ca"],
  ["0bb20bbf","00e8"],
  ["0bb80bc0","00c8"],
  ["0bb50bbf","00e9"],
  ["0b9c0bc0","00c9"],
  ["0ba80bc1","0045"],
  ["0ba8","0065"],
  ["0ba90bc1","0044"],
  ["0ba9","0064"],
  ["0bb00bbf","00e7"],
  ["0b89","0063"],
  ["0b8a","0043"],
  ["0b950bcd0bb7","0042"],
  ["0baf0bbf","00e6"],
  ["0bb40bc0","00c6"],
  ["0ba90bbf","00e5"],
  ["0bb50bc0","00c5"],
  ["0ba80bbf","00e3"],
  ["0baa0bbf","00c3"],
  ["0bae0bbf","00e4"],
  ["0bb20bc0","00c4"],
  ["0ba30bbf","00e2"],
  ["0ba40bbf","00c2"],
  ["0bb90bcd","00c0"],
  ["0b990bbf","00e0"],
  ["0b9a0bbf","00c1"],
  ["0b9e0bbf","00e1"],
  ["0ba80bcd","00aa"],
  ["0baf","0061"],
  ["0bb9","0041"],
  ["0b990bc2","00bd"],
  ["0b990bc1","00bc"],
  ["0bb10bcd","2030"],
  ["0b99","2021"],
  ["0b990bc0","2020"],
  ["0bb10bcd","0089"],
  ["0b99","0087"],
  ["0b990bc0","0086"],
  ["0bb80bcd","00b0"],
  ["0bb00bcd","00ae"],
  ["0ba30bcd","00a9"],
  ["0b990bcd","00a7"],
  ["0baa0bcd","00a5"],
  ["0ba40bcd","00a4"],
  ["0b9f0bcd","00a3"],
  ["0b9a0bcd","00a2"],
  ["0b950bbf","00bb"],
  ["0bae0bcd","00ab"],
  ["0bb40bc2","003e"],
  ["003d","003d"],
  ["0b88","003c"],
  ["002b","002b"],
  ["0bb50bcd","203a"],
  ["0ba90bcd","2039"],
  ["0022","201d"],
  ["201d","201d"],
  ["201c","201c"],
  ["2019","2019"],
  ["2018","2018"],
  ["0bb50bcd","009b"],
  ["0ba90bcd","008b"],
  ["0022","0094"],
  ["201d","0094"],
  ["201c","0093"],
  ["2019","0092"],
  ["2018","0091"],
  ["0bb10bbf","00bf"],
  ["0b950bcd","00a1"],
  ["0b83","007e"],
  ["0ba90bc2","007d"],
  ["0b9e0bc1","007c"],
  ["0b9c0bcd","007b"],
  ["0060","0060"],
  ["0bae0bc2","005f"],
  ["0b9f0bc2","005e"],
  ["005c","005c"],
  ["0bb8","005b"],
  ["003f","003f"],
  ["003b","003b"],
  ["003a","003a"],
  ["002f","002f"],
  ["002e","002e"],
  ["002c","002c"],
  ["002a","002a"],
  ["0029","0029"],
  ["0028","0028"],
  ["0bb00bc2","0025"],
  ["0bb80bcd0bb00bc0","0024"],
  ["0b9c","0023"],
  ["0021","0021"],
  ["002d","002d"],
  ["0027","0027"],
  ["0039","0039"],
  ["0038","0038"],
  ["0037","0037"],
  ["0036","0036"],
  ["0035","0035"],
  ["0034","0034"],
  ["0033","0033"],
  ["0032","0032"],
  ["0031","0031"],
  ["0030","0030"],
  ["00220022","201c"],
  ["00220022","0093"],
  ["00220022","0022"]
  ];
  var v2umap = {};
  var vmax = 0;
  for (var i=0; i<lut.length; i++) {
    var u = lut[i][0];
    var v = lut[i][1];
    if (v.length > vmax) vmax = v.length;
    //if (v2umap[v]) console.log('v2umap duplicate', v, v2umap[v], u, hex2str(v2umap[v],4), hex2str(u,4));
    if (! v2umap[v]) v2umap[v] = u;
  };
  var _v2u = function(v) {
    if (!v) return '';

    var hexEncode = function(s) {
      var hex, i;
      var result = "";
      for (i=0; i<s.length; i++) {
        hex = s.charCodeAt(i).toString(16);
        result += ("000"+hex).slice(-4);
      }
      return result
    }
    var hexDecode = function(s) {
      var j;
      var hexes = s.match(/.{1,4}/g) || [];
      var back = "";
      for(j = 0; j<hexes.length; j++) {
        back += String.fromCharCode(parseInt(hexes[j], 16));
      }
      return back;
    };
    var hex2str = function(s, cwidth=2) {
      var hex = s.toString();
      var str = '';
      for (var i=0; i<hex.length; i+=cwidth)
        str += String.fromCharCode(parseInt(hex.substr(i,cwidth),16));
      return str;
    };

    var vstr = hexEncode(v.toString());
    var i = 0;
    var ustr = '';
    while (i < vstr.length) {
      var n;
      for(n=vmax; n>0; n-=4) {
        var u = v2umap[vstr.substr(i,n)];
        if (u) {
          ustr += u;
          break;
        }
      }
      if (!u) {
        n = 4;
        ustr += vstr.substr(i,n);
      }
      i += n;
    }
    return '<pre>'+hex2str(ustr,4)+'</pre>';
  };
  return _v2u;
}();

Input = {
  $type: "textarea",
  style: "flex-grow: 1; flex-basis: 0; padding: 10px; font-size: 16px; outline:none; background: whitesmoke; border:none; font-family: helvetica, arial;",
  class: "column",
  placeholder: "type/paste vanavil characters...",
  onkeyup: function(e){ document.querySelector("#md")._update(this.value); }
}
Output = {
  id: "md",
  style: "flex-grow: 1; flex-basis: 0; padding: 10px;",
  class: "markdown-body",
  $text: "",
  _update: function(v){ this.$html = v2u(v); }
}
Editor = {
  $cell: true,
  $type: "body",
  style: "display: flex;",
  $components: [Input, Output],
}

</script>
</html>
